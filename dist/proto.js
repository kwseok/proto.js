!function(t){var r={};function e(o){if(r[o])return r[o].exports;var n=r[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,e),n.l=!0,n.exports}e.m=t,e.c=r,e.d=function(t,r,o){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var n in t)e.d(o,n,function(r){return t[r]}.bind(null,n));return o},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="",e(e.s=1)}([function(t,r){function e(r){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(r)}t.exports=e},function(t,r,e){"use strict";e.r(r),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){for(var r=0;r<this.length;r++)if(r in this&&this[r]===t)return r;return-1});Array.prototype.indexOf;Array.prototype.contains||(Array.prototype.contains=function(t){return this.indexOf(t)>=0});Array.prototype.contains;Array.prototype.every||(Array.prototype.every=function(t,r){for(var e=0;e<this.length;e++)if(!t.call(r||this,this[e],e,this))return!1;return!0});Array.prototype.every;Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});Array.isArray;Array.prototype.flatMap||(Array.prototype.flatMap=function(t,r){for(var e=[],o=0;o<this.length;o++){var n=t.call(r||this,this[o],o,this);Array.isArray(n)?e.push.apply(e,n):n&&e.push(n)}return e});Array.prototype.flatMap;Array.prototype.filter||(Array.prototype.filter=function(t,r){var e=this;return this.flatMap((function(o,n){if(t.call(r||e,o,n,e))return o}))});Array.prototype.filter;Array.prototype.first||(Array.prototype.first=function(){return this[0]});Array.prototype.first;Array.prototype.groupBy||(Array.prototype.groupBy=function(t,r){if("function"!=typeof t)throw new Error(t+" is not a function");for(var e={},o=0;o<this.length;o++){var n=this[o],i=t.call(r||this,n,o,this);null!=i&&(i in e?e[i].push(n):e[i]=[n])}return e});Array.prototype.groupBy;Array.prototype.grouped||(Array.prototype.grouped=function(t){for(var r=[],e=0;e<this.length;e+=t)r.push(this.slice(e,e+t));return r});Array.prototype.grouped;Array.prototype.groupedRight||(Array.prototype.groupedRight=function(t){for(var r=[],e=this.length;e>0;e-=t)r.push(this.slice(Math.max(0,e-t),e));return r.reverse()});Array.prototype.groupedRight;Array.prototype.include||(Array.prototype.include=function(t){var r=this.indexOf(t);return r>-1?this[r]=t:this.push(t),this});Array.prototype.include;Array.prototype.joinPaths||(Array.prototype.joinPaths=function(){for(var t="",r=0;r<this.length;r++)this[r]&&(t.length>0&&"/"!==t.charAt(t.length-1)&&(t+="/"),t+=this[r].toString());return t});Array.prototype.joinPaths;Array.prototype.last||(Array.prototype.last=function(){return this[this.length-1]});Array.prototype.last;Array.prototype.map||(Array.prototype.map=function(t,r){for(var e=[],o=1;o<=this.length;o++)e.push(t.call(r||this,this[o],o,this));return e});Array.prototype.map;Array.prototype.reduce||(Array.prototype.reduce=function(t,r){if(!(this.length>0))throw new TypeError("Reduce of empty array with no initial value");for(var e=this[0],o=1;o<=this.length;o++)e=t.call(r||this,e,this[o],o,this);return e});Array.prototype.reduce;Array.prototype.max||(Array.prototype.max=function(){return this.reduce((function(t,r){return t>r?t:r}))});Array.prototype.max;Array.prototype.min||(Array.prototype.min=function(){return this.reduce((function(t,r){return t<r?t:r}))});Array.prototype.min;Array.range||(Array.range=function(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=[],n="number"==typeof t&&"number"==typeof r,i=n?t:t.toString().charCodeAt(0),p=n?r:r.toString().charCodeAt(0);e=Math.abs(e)||1,i>p&&(e=-e);for(var a=i;e>0?a<=p:a>=p;a+=e)o.push(n?a:String.fromCharCode(a));return o});Array.range;Array.prototype.remove||(Array.prototype.remove=function(t){for(var r=this.length-1;r>=0;--r)this[r]===t&&this.splice(r,1);return this});Array.prototype.remove;Array.prototype.some||(Array.prototype.some=function(t,r){if("function"!=typeof t)throw new Error(t+" is not a function");for(var e=0;e<this.length;e++)if(t.call(r||this,this[e],e,this))return!0;return!1});Array.prototype.some;RegExp.escape||(RegExp.escape=function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")});RegExp.escape;String.prototype.antStylePathToRegex||(String.prototype.antStylePathToRegex=function(){if(0===this.length)throw new RangeError("Path must not be empty.");var t=this.replace(/\/{2,}/g,"/").replace(/[-[\]{}()+.,\\^$|#\s]/g,"\\$&").replace(/((\/?\*\*)|(\/?\*)|(\?)|(\/))/g,(function(t){switch(t){case"/**":return"(?:/{1,}.*)?";case"**":return".*";case"/*":return"(?:/{1,}[^/]*)?";case"*":return"[^/]*";case"?":return"[^/]";case"/":return"/{1,}"}}));return new RegExp("^("+t+")$")}),String.prototype.a||(String.prototype.a=String.prototype.antStylePathToRegex);String.prototype.antStylePathToRegex;String.prototype.xmlUnescape||(String.prototype.xmlUnescape=function(){return this.replace(/(&lt;|&gt;|&#34;|&#39;|&amp;)/g,(function(t){switch(t){case"&lt;":return"<";case"&gt;":return">";case"&#34;":return'"';case"&#39;":return"'";case"&amp;":return"&";default:return t}}))});String.prototype.xmlUnescape;String.prototype.br2nl||(String.prototype.br2nl=function(t){var r=this.replace(/(<br>|<br\/>)/g,"\n");return t?r.xmlUnescape():r});String.prototype.br2nl;String.prototype.compareTo||(String.prototype.compareTo=function(t){return null==t||this>t?1:this<t?-1:0});String.prototype.compareTo;String.prototype.contains||(String.prototype.contains=function(t){return this.indexOf(t)>-1});String.prototype.contains;var o=e(0),n=e.n(o);String.prototype.getLength||(String.prototype.getLength=function(t){var r=arguments,e=0,o=function(){return r[e]},i=function(){return r[e++]};if(!1===(t=!!["boolean","number"].contains(n()(o()))&&i()))return this.length;for(var p=0,a=0;a<this.length;a++){var u=this.charCodeAt(a);switch(!1){case!(u<=127):p+=1;break;case!("number"==typeof t&&t>0):p+=t;break;case!(u<=2047):p+=2;break;case!(u<=65535):p+=3;break;default:p+=4}}return p});String.prototype.getLength;String.prototype.cutstring||(String.prototype.cutstring=function(t,r,e){var o=arguments,i=0,p=function(){return o[i]},a=function(){return o[i++]};if(t=!!["boolean","number"].contains(n()(p()))&&a(),"number"!=typeof p())throw new TypeError(p()+" is not a number");r=a(),e="string"==typeof p()?a():"";var u=this.getLength(t);if(!(u>r))return this;var y=e.getLength(t);if(y>r)throw new RangeError("Max length must be more than suffix length");for(var s="",h=0,g=0;g<this.length;g++){var c=this.charAt(g),f=c.getLength(t);if(h+f>r-y)break;h+=f,s+=c}return s+e});String.prototype.cutstring;String.prototype.endsWith||(String.prototype.endsWith=function(t){var r=this.lastIndexOf(t);return r>-1&&r===this.length-t.toString().length});String.prototype.endsWith;String.prototype.format||(String.prototype.format=function(){var t=arguments;return this.replace(/(''|'\{|}'|\{(\w+)})/g,(function(r,e,o){switch(e){case"''":return"'";case"'{":return"{";case"}'":return"}";default:return(/^\d+$/g.test(o)?Array.isArray(t[0])?t[0]:t:t[0]||{})[o]}}))});String.prototype.format;String.prototype.formatVariables||(String.prototype.formatVariables=function(){for(var t,r=/(''|'\{|\}'|\{(\w+)\})/g,e=[];t=r.exec(this);){var o=t[0];"''"!==o&&"'{"!==o&&"}'"!==o&&e.push(t[2])}return e});String.prototype.formatVariables;String.prototype.grouped||(String.prototype.grouped=function(t){if(!(t>1))throw new RangeError("Invalid size value");"number"!=typeof t&&(t=parseInt(t));for(var r=[],e=0;e<this.length;e+=t)r.push(this.slice(e,e+t));return r});String.prototype.grouped;String.prototype.groupedRight||(String.prototype.groupedRight=function(t){if(!(t>1))throw new RangeError("Invalid size value");"number"!=typeof t&&(t=parseInt(t));for(var r=[],e=this.length;e>0;e-=t)r.push(this.slice(Math.max(0,e-t),e));return r.reverse()});String.prototype.groupedRight;String.prototype.repeat||(String.prototype.repeat=function(t){if(!(t>=0))throw new RangeError("Invalid count value");for(var r="",e=0;e<t;e++)r+=this.toString();return r});String.prototype.repeat;String.prototype.leftPad||(String.prototype.leftPad=function(t,r){if("number"!=typeof t)throw new TypeError(t+" is not a number");return r||(r=" "),this.length>=t?this.toString():r.repeat(t-this.length)+this.toString()}),String.prototype.lpad||(String.prototype.lpad=String.prototype.leftPad);String.prototype.leftPad;String.prototype.xmlEscape||(String.prototype.xmlEscape=function(){return this.replace(/(<|>|"|'|&)/g,(function(t){switch(t){case"<":return"&lt;";case">":return"&gt;";case'"':return"&#34;";case"'":return"&#39;";case"&":return"&amp;";default:return t}}))});String.prototype.xmlEscape;String.prototype.nl2br||(String.prototype.nl2br=function(t){return(t?this.xmlEscape():this).replace(/(\r\n|\n\r|\r|\n)/g,"<br/>")});String.prototype.nl2br;String.prototype.quote||(String.prototype.quote=function(t){if("boolean"!=typeof t&&(t=!0),!t&&this.length>=2){if('"'===this.charAt(0)&&'"'===this.charAt(this.length-1))return this.toString();if("'"===this.charAt(0)&&"'"===this.charAt(this.length-1))return this.toString()}return'"'+this+'"'});String.prototype.quote;String.prototype.regex||(String.prototype.regex=function(t){return new RegExp(this,t)}),String.prototype.r||(String.prototype.r=String.prototype.regex);String.prototype.regex;String.prototype.rightPad||(String.prototype.rightPad=function(t,r){if("number"!=typeof t)throw new TypeError(t+" is not a number");return r||(r=" "),this.length>=t?this.toString():this.toString()+r.repeat(t-this.length)}),String.prototype.rpad||(String.prototype.rpad=String.prototype.rightPad);String.prototype.rightPad;String.prototype.startsWith||(String.prototype.startsWith=function(t){return 0===this.indexOf(t)});String.prototype.startsWith;String.prototype.unquote||(String.prototype.unquote=function(){return this.length>=2&&('"'===this.charAt(0)&&'"'===this.charAt(this.length-1)||"'"===this.charAt(0)&&"'"===this.charAt(this.length-1))?this.slice(1,-1):this.toString()});String.prototype.unquote}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdHlwZW9mLmpzIiwid2VicGFjazovLy8uL3NyYy9hcnJheXMvaW5kZXhPZi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXJyYXlzL2NvbnRhaW5zLmpzIiwid2VicGFjazovLy8uL3NyYy9hcnJheXMvZXZlcnkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FycmF5cy9pc0FycmF5LmpzIiwid2VicGFjazovLy8uL3NyYy9hcnJheXMvZmxhdE1hcC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXJyYXlzL2ZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXJyYXlzL2ZpcnN0LmpzIiwid2VicGFjazovLy8uL3NyYy9hcnJheXMvZ3JvdXBCeS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXJyYXlzL2dyb3VwZWQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FycmF5cy9ncm91cGVkUmlnaHQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FycmF5cy9pbmNsdWRlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcnJheXMvam9pblBhdGhzLmpzIiwid2VicGFjazovLy8uL3NyYy9hcnJheXMvbGFzdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXJyYXlzL21hcC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXJyYXlzL3JlZHVjZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXJyYXlzL21heC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXJyYXlzL21pbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXJyYXlzL3JhbmdlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcnJheXMvcmVtb3ZlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcnJheXMvc29tZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcmVnZXhwcy9lc2NhcGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0cmluZ3MvYW50U3R5bGVQYXRoVG9SZWdleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3RyaW5ncy94bWxVbmVzY2FwZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3RyaW5ncy9icjJubC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3RyaW5ncy9jb21wYXJlVG8uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0cmluZ3MvY29udGFpbnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0cmluZ3MvZ2V0TGVuZ3RoLmpzIiwid2VicGFjazovLy8uL3NyYy9zdHJpbmdzL2N1dHN0cmluZy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3RyaW5ncy9lbmRzV2l0aC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3RyaW5ncy9mb3JtYXQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0cmluZ3MvZm9ybWF0VmFyaWFibGVzLmpzIiwid2VicGFjazovLy8uL3NyYy9zdHJpbmdzL2dyb3VwZWQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0cmluZ3MvZ3JvdXBlZFJpZ2h0LmpzIiwid2VicGFjazovLy8uL3NyYy9zdHJpbmdzL3JlcGVhdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3RyaW5ncy9sZWZ0UGFkLmpzIiwid2VicGFjazovLy8uL3NyYy9zdHJpbmdzL3htbEVzY2FwZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3RyaW5ncy9ubDJici5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3RyaW5ncy9xdW90ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3RyaW5ncy9yZWdleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3RyaW5ncy9yaWdodFBhZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3RyaW5ncy9zdGFydHNXaXRoLmpzIiwid2VicGFjazovLy8uL3NyYy9zdHJpbmdzL3VucXVvdGUuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJfdHlwZW9mIiwib2JqIiwiaXRlcmF0b3IiLCJjb25zdHJ1Y3RvciIsIkFycmF5IiwiaW5kZXhPZiIsIml0ZW0iLCJ0aGlzIiwibGVuZ3RoIiwiY29udGFpbnMiLCJhIiwiZXZlcnkiLCJjYWxsYmFjayIsImNvbnRleHQiLCJpc0FycmF5IiwidG9TdHJpbmciLCJmbGF0TWFwIiwicmVzdWx0cyIsInJlc3VsdCIsInB1c2giLCJhcHBseSIsImZpbHRlciIsImZpcnN0IiwiZ3JvdXBCeSIsIkVycm9yIiwiZ3JvdXBlZCIsInNpemUiLCJzbGljZSIsImdyb3VwZWRSaWdodCIsIk1hdGgiLCJtYXgiLCJyZXZlcnNlIiwiaW5jbHVkZSIsImpvaW5QYXRocyIsInBhdGgiLCJjaGFyQXQiLCJsYXN0IiwibWFwIiwicmVkdWNlIiwiVHlwZUVycm9yIiwiYiIsIm1pbiIsInJhbmdlIiwiZnJvbSIsInRvIiwic3RlcCIsImlzTnVtYmVyIiwiYmVnaW4iLCJjaGFyQ29kZUF0IiwiZW5kIiwiYWJzIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwicmVtb3ZlIiwic3BsaWNlIiwic29tZSIsIlJlZ0V4cCIsImVzY2FwZSIsInRleHQiLCJyZXBsYWNlIiwiYW50U3R5bGVQYXRoVG9SZWdleCIsIlJhbmdlRXJyb3IiLCJwYXR0ZXJuIiwiJDAiLCJ4bWxVbmVzY2FwZSIsIiQxIiwiYnIybmwiLCJjb21wYXJlVG8iLCJzdHIiLCJnZXRMZW5ndGgiLCJjaGVja2J5dGUiLCJhcmdJbmRleCIsImFyZ0N1cnIiLCJhcmd1bWVudHMiLCJhcmdTaGlmdCIsImN1dHN0cmluZyIsIm1heExlbmd0aCIsInN1ZmZpeCIsInN1ZmZpeExlbmd0aCIsInJlc3VsdFN0cmluZyIsImNoZWNrZWRMZW5ndGgiLCJlbmRzV2l0aCIsImxhc3RJbmRleE9mIiwiZm9ybWF0IiwiJDIiLCJ0ZXN0IiwiZm9ybWF0VmFyaWFibGVzIiwibWF0Y2hlcyIsInJlZ2V4IiwidmFyaWFibGVzIiwiZXhlYyIsIm1hdGNoIiwicGFyc2VJbnQiLCJyZXBlYXQiLCJjb3VudCIsImxlZnRQYWQiLCJmaWxsQ2hhciIsImxwYWQiLCJ4bWxFc2NhcGUiLCJubDJiciIsInF1b3RlIiwib3ZlcmxhcGFibGUiLCJmbGFncyIsInJpZ2h0UGFkIiwicnBhZCIsInN0YXJ0c1dpdGgiLCJ1bnF1b3RlIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9B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QU1sQnBELE9BQU92RCxVQUFVMkcsU0FBVyxTQUFTL0YsRUFBUXdGLEdBQ3pDLEdBQXNCLGlCQUFYeEYsRUFDUCxNQUFNLElBQUkrQixVQUFVL0IsRUFBUyxvQkFHakMsT0FES3dGLElBQVVBLEVBQVcsS0FDdEJ6RixLQUFLQyxRQUFVQSxFQUFlRCxLQUFLUSxXQUNoQ1IsS0FBS1EsV0FBYWlGLEVBQVNILE9BQU9yRixFQUFTRCxLQUFLQyxVQUcxRDJDLE9BQU92RCxVQUFVNEcsT0FDbEJyRCxPQUFPdkQsVUFBVTRHLEtBQU9yRCxPQUFPdkQsVUFBVTJHLFVBRzlCcEQsT0FBT3ZELFVBQXRCLFNDckJLdUQsT0FBT3ZELFVBQVU2RyxhQUlsQnRELE9BQU92RCxVQUFVNkcsV0FBYSxTQUFTckMsR0FBTyxPQUE2QixJQUF0QjdELEtBQUtGLFFBQVErRCxLQUd2RGpCLE9BQU92RCxVQUF0QixXQ1BLdUQsT0FBT3ZELFVBQVU4RyxVQUNsQnZELE9BQU92RCxVQUFVOEcsUUFBVSxXQUN2QixPQUFJbkcsS0FBS0MsUUFBVSxJQUNNLE1BQW5CRCxLQUFLNEIsT0FBTyxJQUErQyxNQUFqQzVCLEtBQUs0QixPQUFPNUIsS0FBS0MsT0FBUyxJQUNsQyxNQUFuQkQsS0FBSzRCLE9BQU8sSUFBK0MsTUFBakM1QixLQUFLNEIsT0FBTzVCLEtBQUtDLE9BQVMsSUFDOUNELEtBQUtvQixNQUFNLEdBQUksR0FFbkJwQixLQUFLUSxhQUlMb0MsT0FBT3ZELFVBQXRCIiwiZmlsZSI6InByb3RvLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEpO1xuIiwiZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiO1xuXG4gIGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikge1xuICAgIG1vZHVsZS5leHBvcnRzID0gX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG9iajtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIG1vZHVsZS5leHBvcnRzID0gX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIF90eXBlb2Yob2JqKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfdHlwZW9mOyIsIid1c2Ugc3RyaWN0JztcblxuaWYgKCFBcnJheS5wcm90b3R5cGUuaW5kZXhPZikge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Kn0gaXRlbVxuICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgKi9cbiAgICBBcnJheS5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSBpbiB0aGlzICYmIHRoaXNbaV0gPT09IGl0ZW0pIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBBcnJheS5wcm90b3R5cGUuaW5kZXhPZjtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0ICcuL2luZGV4T2YnXG5cbmlmICghQXJyYXkucHJvdG90eXBlLmNvbnRhaW5zKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHsqfSBhXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBBcnJheS5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbihhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmluZGV4T2YoYSkgPj0gMDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFycmF5LnByb3RvdHlwZS5jb250YWlucztcbiIsIid1c2Ugc3RyaWN0JztcblxuaWYgKCFBcnJheS5wcm90b3R5cGUuZXZlcnkpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAqIEBwYXJhbSB7Kn0gW2NvbnRleHRdXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBBcnJheS5wcm90b3R5cGUuZXZlcnkgPSBmdW5jdGlvbihjYWxsYmFjaywgY29udGV4dCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghY2FsbGJhY2suY2FsbChjb250ZXh0IHx8IHRoaXMsIHRoaXNbaV0sIGksIHRoaXMpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQXJyYXkucHJvdG90eXBlLmV2ZXJ5O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pZiAoIUFycmF5LmlzQXJyYXkpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0geyp9IG9ialxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqL1xuICAgIEFycmF5LmlzQXJyYXkgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBBcnJheV0nO1xuICAgIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFycmF5LmlzQXJyYXk7XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCAnLi9pc0FycmF5J1xuXG5pZiAoIUFycmF5LnByb3RvdHlwZS5mbGF0TWFwKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0geyp9IFtjb250ZXh0XVxuICAgICAqIEByZXR1cm4gQXJyYXlcbiAgICAgKi9cbiAgICBBcnJheS5wcm90b3R5cGUuZmxhdE1hcCA9IGZ1bmN0aW9uKGNhbGxiYWNrLCBjb250ZXh0KSB7XG4gICAgICAgIGxldCByZXN1bHRzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGNhbGxiYWNrLmNhbGwoY29udGV4dCB8fCB0aGlzLCB0aGlzW2ldLCBpLCB0aGlzKTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlc3VsdCkpIHJlc3VsdHMucHVzaC5hcHBseShyZXN1bHRzLCByZXN1bHQpO1xuICAgICAgICAgICAgZWxzZSBpZiAocmVzdWx0KSByZXN1bHRzLnB1c2gocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFycmF5LnByb3RvdHlwZS5mbGF0TWFwO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgJy4vZmxhdE1hcCdcblxuaWYgKCFBcnJheS5wcm90b3R5cGUuZmlsdGVyKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0geyp9IFtjb250ZXh0XVxuICAgICAqIEByZXR1cm4ge0FycmF5fVxuICAgICAqL1xuICAgIEFycmF5LnByb3RvdHlwZS5maWx0ZXIgPSBmdW5jdGlvbihjYWxsYmFjaywgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mbGF0TWFwKChhLCBpKSA9PiB7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2suY2FsbChjb250ZXh0IHx8IHRoaXMsIGEsIGksIHRoaXMpKSByZXR1cm4gYTtcbiAgICAgICAgfSk7XG4gICAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQXJyYXkucHJvdG90eXBlLmZpbHRlcjtcbiIsIid1c2Ugc3RyaWN0JztcblxuaWYgKCFBcnJheS5wcm90b3R5cGUuZmlyc3QpIHtcbiAgICBBcnJheS5wcm90b3R5cGUuZmlyc3QgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXNbMF07IH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFycmF5LnByb3RvdHlwZS5maXJzdDtcbiIsIid1c2Ugc3RyaWN0JztcblxuaWYgKCFBcnJheS5wcm90b3R5cGUuZ3JvdXBCeSkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICogQHBhcmFtIHsqfSBbY29udGV4dF1cbiAgICAgKiBAcmV0dXJuIHt7fX1cbiAgICAgKi9cbiAgICBBcnJheS5wcm90b3R5cGUuZ3JvdXBCeSA9IGZ1bmN0aW9uKGNhbGxiYWNrLCBjb250ZXh0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihjYWxsYmFjayArIFwiIGlzIG5vdCBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICB9XG4gICAgICAgIGxldCByZXN1bHQgPSB7fTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSB0aGlzW2ldO1xuICAgICAgICAgICAgbGV0IGtleSA9IGNhbGxiYWNrLmNhbGwoY29udGV4dCB8fCB0aGlzLCB2YWx1ZSwgaSwgdGhpcyk7XG4gICAgICAgICAgICBpZiAoa2V5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoa2V5IGluIHJlc3VsdClcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2tleV0ucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICByZXN1bHRba2V5XSA9IFt2YWx1ZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBBcnJheS5wcm90b3R5cGUuZ3JvdXBCeTtcbiIsIid1c2Ugc3RyaWN0JztcblxuaWYgKCFBcnJheS5wcm90b3R5cGUuZ3JvdXBlZCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplXG4gICAgICogQHJldHVybiB7QXJyYXk8QXJyYXk+fVxuICAgICAqL1xuICAgIEFycmF5LnByb3RvdHlwZS5ncm91cGVkID0gZnVuY3Rpb24oc2l6ZSkge1xuICAgICAgICBsZXQgcmVzdWx0cyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IHNpemUpIHtcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaCh0aGlzLnNsaWNlKGksIGkgKyBzaXplKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQXJyYXkucHJvdG90eXBlLmdyb3VwZWQ7XG4iLCIndXNlIHN0cmljdCc7XG5cbmlmICghQXJyYXkucHJvdG90eXBlLmdyb3VwZWRSaWdodCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplXG4gICAgICogQHJldHVybiB7QXJyYXk8QXJyYXk+fVxuICAgICAqL1xuICAgIEFycmF5LnByb3RvdHlwZS5ncm91cGVkUmlnaHQgPSBmdW5jdGlvbihzaXplKSB7XG4gICAgICAgIGxldCByZXN1bHRzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmxlbmd0aDsgaSA+IDA7IGkgLT0gc2l6ZSkge1xuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHRoaXMuc2xpY2UoTWF0aC5tYXgoMCwgaSAtIHNpemUpLCBpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdHMucmV2ZXJzZSgpO1xuICAgIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFycmF5LnByb3RvdHlwZS5ncm91cGVkUmlnaHQ7XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCAnLi9pbmRleE9mJ1xuXG5pZiAoIUFycmF5LnByb3RvdHlwZS5pbmNsdWRlKSB7XG4gICAgQXJyYXkucHJvdG90eXBlLmluY2x1ZGUgPSBmdW5jdGlvbihhKSB7XG4gICAgICAgIGxldCBpID0gdGhpcy5pbmRleE9mKGEpO1xuICAgICAgICBpZiAoaSA+IC0xKVxuICAgICAgICAgICAgdGhpc1tpXSA9IGE7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMucHVzaChhKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQXJyYXkucHJvdG90eXBlLmluY2x1ZGU7XG4iLCIndXNlIHN0cmljdCc7XG5cbmlmICghQXJyYXkucHJvdG90eXBlLmpvaW5QYXRocykge1xuICAgIEFycmF5LnByb3RvdHlwZS5qb2luUGF0aHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgbGV0IHBhdGggPSAnJztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpc1tpXSkge1xuICAgICAgICAgICAgICAgIGlmIChwYXRoLmxlbmd0aCA+IDAgJiYgcGF0aC5jaGFyQXQocGF0aC5sZW5ndGggLSAxKSAhPT0gJy8nKVxuICAgICAgICAgICAgICAgICAgICBwYXRoICs9ICcvJztcblxuICAgICAgICAgICAgICAgIHBhdGggKz0gdGhpc1tpXS50b1N0cmluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFycmF5LnByb3RvdHlwZS5qb2luUGF0aHM7XG4iLCIndXNlIHN0cmljdCc7XG5cbmlmICghQXJyYXkucHJvdG90eXBlLmxhc3QpIHtcbiAgICBBcnJheS5wcm90b3R5cGUubGFzdCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpc1t0aGlzLmxlbmd0aCAtIDFdOyB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBBcnJheS5wcm90b3R5cGUubGFzdDtcbiIsIid1c2Ugc3RyaWN0JztcblxuaWYgKCFBcnJheS5wcm90b3R5cGUubWFwKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0geyp9IFtjb250ZXh0XVxuICAgICAqL1xuICAgIEFycmF5LnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbihjYWxsYmFjaywgY29udGV4dCkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGNhbGxiYWNrLmNhbGwoY29udGV4dCB8fCB0aGlzLCB0aGlzW2ldLCBpLCB0aGlzKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFycmF5LnByb3RvdHlwZS5tYXA7XG4iLCIndXNlIHN0cmljdCc7XG5cbmlmICghQXJyYXkucHJvdG90eXBlLnJlZHVjZSkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICogQHBhcmFtIHsqfSBbY29udGV4dF1cbiAgICAgKiBAcmV0dXJuIHsqfVxuICAgICAqL1xuICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UgPSBmdW5jdGlvbihjYWxsYmFjaywgY29udGV4dCkge1xuICAgICAgICBpZiAoISh0aGlzLmxlbmd0aCA+IDApKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUmVkdWNlIG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVzdWx0ID0gdGhpc1swXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcmVzdWx0ID0gY2FsbGJhY2suY2FsbChjb250ZXh0IHx8IHRoaXMsIHJlc3VsdCwgdGhpc1tpXSwgaSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBBcnJheS5wcm90b3R5cGUucmVkdWNlO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgJy4vcmVkdWNlJ1xuXG5pZiAoIUFycmF5LnByb3RvdHlwZS5tYXgpIHtcbiAgICBBcnJheS5wcm90b3R5cGUubWF4ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZHVjZSgoYSwgYikgPT4gKGEgPiBiKSA/IGEgOiBiKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFycmF5LnByb3RvdHlwZS5tYXg7XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCAnLi9yZWR1Y2UnXG5cbmlmICghQXJyYXkucHJvdG90eXBlLm1pbikge1xuICAgIEFycmF5LnByb3RvdHlwZS5taW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVkdWNlKChhLCBiKSA9PiAoYSA8IGIpID8gYSA6IGIpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXJyYXkucHJvdG90eXBlLm1pbjtcbiIsIid1c2Ugc3RyaWN0JztcblxuaWYgKCFBcnJheS5yYW5nZSkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gZnJvbVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gdG9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RlcFxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICAgKi9cbiAgICBBcnJheS5yYW5nZSA9IGZ1bmN0aW9uKGZyb20sIHRvLCBzdGVwID0gMSkge1xuICAgICAgICBsZXQgcmFuZ2UgPSBbXTtcbiAgICAgICAgbGV0IGlzTnVtYmVyID0gdHlwZW9mIGZyb20gPT09ICdudW1iZXInICYmIHR5cGVvZiB0byA9PT0gJ251bWJlcic7XG4gICAgICAgIGxldCBiZWdpbiA9IGlzTnVtYmVyID8gZnJvbSA6IGZyb20udG9TdHJpbmcoKS5jaGFyQ29kZUF0KDApO1xuICAgICAgICBsZXQgZW5kID0gaXNOdW1iZXIgPyB0byA6IHRvLnRvU3RyaW5nKCkuY2hhckNvZGVBdCgwKTtcbiAgICAgICAgc3RlcCA9IE1hdGguYWJzKHN0ZXApIHx8IDE7XG4gICAgICAgIGlmIChiZWdpbiA+IGVuZCkgc3RlcCA9IC1zdGVwO1xuICAgICAgICBmb3IgKGxldCBpID0gYmVnaW47IHN0ZXAgPiAwID8gaSA8PSBlbmQgOiBpID49IGVuZDsgaSArPSBzdGVwKSB7XG4gICAgICAgICAgICByYW5nZS5wdXNoKGlzTnVtYmVyID8gaSA6IFN0cmluZy5mcm9tQ2hhckNvZGUoaSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByYW5nZTtcbiAgICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBBcnJheS5yYW5nZTtcbiIsIid1c2Ugc3RyaWN0JztcblxuaWYgKCFBcnJheS5wcm90b3R5cGUucmVtb3ZlKSB7XG4gICAgQXJyYXkucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzW2ldID09PSBhKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQXJyYXkucHJvdG90eXBlLnJlbW92ZTtcbiIsIid1c2Ugc3RyaWN0JztcblxuaWYgKCFBcnJheS5wcm90b3R5cGUuc29tZSkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICogQHBhcmFtIHsqfSBbY29udGV4dF1cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqL1xuICAgIEFycmF5LnByb3RvdHlwZS5zb21lID0gZnVuY3Rpb24oY2FsbGJhY2ssIGNvbnRleHQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGNhbGxiYWNrICsgXCIgaXMgbm90IGEgZnVuY3Rpb25cIik7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2suY2FsbChjb250ZXh0IHx8IHRoaXMsIHRoaXNbaV0sIGksIHRoaXMpKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQXJyYXkucHJvdG90eXBlLnNvbWU7XG4iLCIndXNlIHN0cmljdCc7XG5cbmlmICghUmVnRXhwLmVzY2FwZSkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0XG4gICAgICogQHN0YXRpY1xuICAgICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICAgKi9cbiAgICBSZWdFeHAuZXNjYXBlID0gZnVuY3Rpb24odGV4dCkge1xuICAgICAgICByZXR1cm4gdGV4dC5yZXBsYWNlKC9bLVtcXF17fSgpKis/LixcXFxcXiR8I1xcc10vZywgJ1xcXFwkJicpO1xuICAgIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJlZ0V4cC5lc2NhcGU7XG4iLCIndXNlIHN0cmljdCc7XG5cbmlmICghU3RyaW5nLnByb3RvdHlwZS5hbnRTdHlsZVBhdGhUb1JlZ2V4KSB7XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7UmVnRXhwfVxuICAgICAqL1xuICAgIFN0cmluZy5wcm90b3R5cGUuYW50U3R5bGVQYXRoVG9SZWdleCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiUGF0aCBtdXN0IG5vdCBiZSBlbXB0eS5cIik7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHBhdGggPSB0aGlzLnJlcGxhY2UoL1xcL3syLH0vZywgJy8nKS5yZXBsYWNlKC9bLVtcXF17fSgpKy4sXFxcXF4kfCNcXHNdL2csICdcXFxcJCYnKTtcbiAgICAgICAgbGV0IHBhdHRlcm4gPSBwYXRoLnJlcGxhY2UoLygoXFwvP1xcKlxcKil8KFxcLz9cXCopfChcXD8pfChcXC8pKS9nLCAoJDApID0+IHtcbiAgICAgICAgICAgIHN3aXRjaCAoJDApIHtcbiAgICAgICAgICAgIGNhc2UgJy8qKic6IHJldHVybiAnKD86L3sxLH0uKik/JztcbiAgICAgICAgICAgIGNhc2UgJyoqJzogcmV0dXJuICcuKic7XG4gICAgICAgICAgICBjYXNlICcvKic6IHJldHVybiAnKD86L3sxLH1bXi9dKik/JztcbiAgICAgICAgICAgIGNhc2UgJyonOiByZXR1cm4gJ1teL10qJztcbiAgICAgICAgICAgIGNhc2UgJz8nOiByZXR1cm4gJ1teL10nO1xuICAgICAgICAgICAgY2FzZSAnLyc6IHJldHVybiAnL3sxLH0nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoJ14oJyArIHBhdHRlcm4gKyAnKSQnKTtcbiAgICB9O1xufVxuaWYgKCFTdHJpbmcucHJvdG90eXBlLmEpIHtcbiAgICBTdHJpbmcucHJvdG90eXBlLmEgPSBTdHJpbmcucHJvdG90eXBlLmFudFN0eWxlUGF0aFRvUmVnZXg7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFN0cmluZy5wcm90b3R5cGUuYW50U3R5bGVQYXRoVG9SZWdleDtcbiIsIid1c2Ugc3RyaWN0JztcblxuaWYgKCFTdHJpbmcucHJvdG90eXBlLnhtbFVuZXNjYXBlKSB7XG4gICAgU3RyaW5nLnByb3RvdHlwZS54bWxVbmVzY2FwZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXBsYWNlKC8oJmx0O3wmZ3Q7fCYjMzQ7fCYjMzk7fCZhbXA7KS9nLCAoJDEpID0+IHtcbiAgICAgICAgICAgIHN3aXRjaCAoJDEpIHtcbiAgICAgICAgICAgIGNhc2UgJyZsdDsnOiByZXR1cm4gJzwnO1xuICAgICAgICAgICAgY2FzZSAnJmd0Oyc6IHJldHVybiAnPic7XG4gICAgICAgICAgICBjYXNlICcmIzM0Oyc6IHJldHVybiAnXCInO1xuICAgICAgICAgICAgY2FzZSAnJiMzOTsnOiByZXR1cm4gXCInXCI7XG4gICAgICAgICAgICBjYXNlICcmYW1wOyc6IHJldHVybiAnJic7XG4gICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gJDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3RyaW5nLnByb3RvdHlwZS54bWxVbmVzY2FwZTtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0ICcuL3htbFVuZXNjYXBlJ1xuXG5pZiAoIVN0cmluZy5wcm90b3R5cGUuYnIybmwpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHhtbFVuZXNjYXBlXG4gICAgICogQHJldHVybiB7U3RyaW5nfVxuICAgICAqL1xuICAgIFN0cmluZy5wcm90b3R5cGUuYnIybmwgPSBmdW5jdGlvbih4bWxVbmVzY2FwZSkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5yZXBsYWNlKC8oPGJyPnw8YnJcXC8+KS9nLCAnXFxuJyk7XG4gICAgICAgIGlmICh4bWxVbmVzY2FwZSkgcmV0dXJuIHJlc3VsdC54bWxVbmVzY2FwZSgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IFN0cmluZy5wcm90b3R5cGUuYnIybmw7XG4iLCIndXNlIHN0cmljdCc7XG5cbmlmICghU3RyaW5nLnByb3RvdHlwZS5jb21wYXJlVG8pIHtcbiAgICBTdHJpbmcucHJvdG90eXBlLmNvbXBhcmVUbyA9IGZ1bmN0aW9uKHN0cikge1xuICAgICAgICBpZiAoc3RyID09IG51bGwgfHwgdGhpcyA+IHN0cikgcmV0dXJuIDE7XG4gICAgICAgIGlmICh0aGlzIDwgc3RyKSByZXR1cm4gLTE7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IFN0cmluZy5wcm90b3R5cGUuY29tcGFyZVRvO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pZiAoIVN0cmluZy5wcm90b3R5cGUuY29udGFpbnMpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyXG4gICAgICovXG4gICAgU3RyaW5nLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uKHN0cikgeyByZXR1cm4gdGhpcy5pbmRleE9mKHN0cikgPiAtMTsgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgU3RyaW5nLnByb3RvdHlwZS5jb250YWlucztcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0ICcuLi9hcnJheXMvY29udGFpbnMnXG5cbmlmICghU3RyaW5nLnByb3RvdHlwZS5nZXRMZW5ndGgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW58bnVtYmVyfSBbY2hlY2tieXRlXSBjaGVjayBieXRlIGxlbmd0aCBpZiB0cnVlLiAoZGVmYXVsdCBpcyBmYWxzZSlcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICovXG4gICAgU3RyaW5nLnByb3RvdHlwZS5nZXRMZW5ndGggPSBmdW5jdGlvbihjaGVja2J5dGUpIHtcbiAgICAgICAgbGV0IGFyZ0luZGV4ID0gMDtcbiAgICAgICAgbGV0IGFyZ0N1cnIgPSAoKSA9PiBhcmd1bWVudHNbYXJnSW5kZXhdO1xuICAgICAgICBsZXQgYXJnU2hpZnQgPSAoKSA9PiBhcmd1bWVudHNbYXJnSW5kZXgrK107XG5cbiAgICAgICAgY2hlY2tieXRlID0gWydib29sZWFuJywgJ251bWJlciddLmNvbnRhaW5zKHR5cGVvZiBhcmdDdXJyKCkpID8gYXJnU2hpZnQoKSA6IGZhbHNlO1xuICAgICAgICBpZiAoY2hlY2tieXRlID09PSBmYWxzZSkgcmV0dXJuIHRoaXMubGVuZ3RoO1xuXG4gICAgICAgIGxldCBsZW5ndGggPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBjID0gdGhpcy5jaGFyQ29kZUF0KGkpO1xuICAgICAgICAgICAgc3dpdGNoIChmYWxzZSkge1xuICAgICAgICAgICAgY2FzZSAhKGMgPD0gMHgwMDAwN0YpOlxuICAgICAgICAgICAgICAgIGxlbmd0aCArPSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAhKHR5cGVvZiBjaGVja2J5dGUgPT09ICdudW1iZXInICYmIGNoZWNrYnl0ZSA+IDApOlxuICAgICAgICAgICAgICAgIGxlbmd0aCArPSBjaGVja2J5dGU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICEoYyA8PSAweDAwMDdGRik6XG4gICAgICAgICAgICAgICAgbGVuZ3RoICs9IDI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICEoYyA8PSAweDAwRkZGRik6XG4gICAgICAgICAgICAgICAgbGVuZ3RoICs9IDM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGxlbmd0aCArPSA0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgU3RyaW5nLnByb3RvdHlwZS5nZXRMZW5ndGg7XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCAnLi4vYXJyYXlzL2NvbnRhaW5zJ1xuaW1wb3J0ICcuL2dldExlbmd0aCdcblxuaWYgKCFTdHJpbmcucHJvdG90eXBlLmN1dHN0cmluZykge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbnxudW1iZXJ9IFtjaGVja2J5dGVdIGNoZWNrIGJ5dGUgbGVuZ3RoIGlmIHRydWUuIChkZWZhdWx0IGlzIGZhbHNlKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhMZW5ndGggdGhlIG1heCBsZW5ndGguXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdWZmaXhdIHRoZSBzdWZmaXguXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuICAgIFN0cmluZy5wcm90b3R5cGUuY3V0c3RyaW5nID0gZnVuY3Rpb24oY2hlY2tieXRlLCBtYXhMZW5ndGgsIHN1ZmZpeCkge1xuICAgICAgICBsZXQgYXJnSW5kZXggPSAwO1xuICAgICAgICBsZXQgYXJnQ3VyciA9ICgpID0+IGFyZ3VtZW50c1thcmdJbmRleF07XG4gICAgICAgIGxldCBhcmdTaGlmdCA9ICgpID0+IGFyZ3VtZW50c1thcmdJbmRleCsrXTtcblxuICAgICAgICBjaGVja2J5dGUgPSBbJ2Jvb2xlYW4nLCAnbnVtYmVyJ10uY29udGFpbnModHlwZW9mIGFyZ0N1cnIoKSkgPyBhcmdTaGlmdCgpIDogZmFsc2U7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBhcmdDdXJyKCkgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGFyZ0N1cnIoKSArIFwiIGlzIG5vdCBhIG51bWJlclwiKTtcbiAgICAgICAgfVxuICAgICAgICBtYXhMZW5ndGggPSBhcmdTaGlmdCgpO1xuXG4gICAgICAgIHN1ZmZpeCA9IHR5cGVvZiBhcmdDdXJyKCkgPT09ICdzdHJpbmcnID8gYXJnU2hpZnQoKSA6ICcnO1xuXG4gICAgICAgIGxldCBsZW5ndGggPSB0aGlzLmdldExlbmd0aChjaGVja2J5dGUpO1xuICAgICAgICBpZiAoIShsZW5ndGggPiBtYXhMZW5ndGgpKSByZXR1cm4gdGhpcztcblxuICAgICAgICBsZXQgc3VmZml4TGVuZ3RoID0gc3VmZml4LmdldExlbmd0aChjaGVja2J5dGUpO1xuICAgICAgICBpZiAoc3VmZml4TGVuZ3RoID4gbWF4TGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIk1heCBsZW5ndGggbXVzdCBiZSBtb3JlIHRoYW4gc3VmZml4IGxlbmd0aFwiKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVzdWx0U3RyaW5nID0gJyc7XG4gICAgICAgIGxldCBjaGVja2VkTGVuZ3RoID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgYyA9IHRoaXMuY2hhckF0KGkpO1xuICAgICAgICAgICAgbGV0IGwgPSBjLmdldExlbmd0aChjaGVja2J5dGUpO1xuICAgICAgICAgICAgaWYgKGNoZWNrZWRMZW5ndGggKyBsID4gbWF4TGVuZ3RoIC0gc3VmZml4TGVuZ3RoKSBicmVhaztcbiAgICAgICAgICAgIGNoZWNrZWRMZW5ndGggKz0gbDtcbiAgICAgICAgICAgIHJlc3VsdFN0cmluZyArPSBjO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRTdHJpbmcgKyBzdWZmaXg7XG4gICAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgU3RyaW5nLnByb3RvdHlwZS5jdXRzdHJpbmc7XG4iLCIndXNlIHN0cmljdCc7XG5cbmlmICghU3RyaW5nLnByb3RvdHlwZS5lbmRzV2l0aCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBTdHJpbmcucHJvdG90eXBlLmVuZHNXaXRoID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgICAgIGxldCBpID0gdGhpcy5sYXN0SW5kZXhPZihzdHIpO1xuICAgICAgICByZXR1cm4gaSA+IC0xICYmIGkgPT09IHRoaXMubGVuZ3RoIC0gc3RyLnRvU3RyaW5nKCkubGVuZ3RoO1xuICAgIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IFN0cmluZy5wcm90b3R5cGUuZW5kc1dpdGg7XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCAnLi4vYXJyYXlzL2lzQXJyYXknXG5cbmlmICghU3RyaW5nLnByb3RvdHlwZS5mb3JtYXQpIHtcbiAgICBTdHJpbmcucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXBsYWNlKC8oJyd8J1xce3x9J3xcXHsoXFx3Kyl9KS9nLCAoJDAsICQxLCAkMikgPT4ge1xuICAgICAgICAgICAgc3dpdGNoICgkMSkge1xuICAgICAgICAgICAgY2FzZSBcIicnXCI6IHJldHVybiBcIidcIjtcbiAgICAgICAgICAgIGNhc2UgXCIne1wiOiByZXR1cm4gJ3snO1xuICAgICAgICAgICAgY2FzZSBcIn0nXCI6IHJldHVybiAnfSc7XG4gICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gKCEvXlxcZCskL2cudGVzdCgkMikgPyBhcmd1bWVudHNbMF0gfHwge30gOiBBcnJheS5pc0FycmF5KGFyZ3VtZW50c1swXSkgPyBhcmd1bWVudHNbMF0gOiBhcmd1bWVudHMpWyQyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTdHJpbmcucHJvdG90eXBlLmZvcm1hdDtcbiIsIid1c2Ugc3RyaWN0JztcblxuaWYgKCFTdHJpbmcucHJvdG90eXBlLmZvcm1hdFZhcmlhYmxlcykge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Kn0gYXJndW1lbnRzXG4gICAgICogQHJldHVybnMge0FycmF5PHN0cmluZz59XG4gICAgICovXG4gICAgU3RyaW5nLnByb3RvdHlwZS5mb3JtYXRWYXJpYWJsZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgbGV0IHJlZ2V4ID0gLygnJ3wnXFx7fFxcfSd8XFx7KFxcdyspXFx9KS9nO1xuICAgICAgICBsZXQgdmFyaWFibGVzID0gW107XG4gICAgICAgIGxldCBtYXRjaGVzO1xuICAgICAgICB3aGlsZSAobWF0Y2hlcyA9IHJlZ2V4LmV4ZWModGhpcykpIHtcbiAgICAgICAgICAgIGxldCBtYXRjaCA9IG1hdGNoZXNbMF07XG4gICAgICAgICAgICBpZiAobWF0Y2ggIT09IFwiJydcIiAmJiBtYXRjaCAhPT0gXCIne1wiICYmIG1hdGNoICE9PSBcIn0nXCIpIHtcbiAgICAgICAgICAgICAgICB2YXJpYWJsZXMucHVzaChtYXRjaGVzWzJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFyaWFibGVzO1xuICAgIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IFN0cmluZy5wcm90b3R5cGUuZm9ybWF0VmFyaWFibGVzO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pZiAoIVN0cmluZy5wcm90b3R5cGUuZ3JvdXBlZCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplXG4gICAgICogQHJldHVybiB7QXJyYXk8c3RyaW5nPn1cbiAgICAgKi9cbiAgICBTdHJpbmcucHJvdG90eXBlLmdyb3VwZWQgPSBmdW5jdGlvbihzaXplKSB7XG4gICAgICAgIGlmICghKHNpemUgPiAxKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0ludmFsaWQgc2l6ZSB2YWx1ZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicpIHNpemUgPSBwYXJzZUludChzaXplKVxuICAgICAgICBsZXQgcmVzdWx0cyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IHNpemUpIHtcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaCh0aGlzLnNsaWNlKGksIGkgKyBzaXplKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgU3RyaW5nLnByb3RvdHlwZS5ncm91cGVkO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pZiAoIVN0cmluZy5wcm90b3R5cGUuZ3JvdXBlZFJpZ2h0KSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemVcbiAgICAgKiBAcmV0dXJuIHtBcnJheTxzdHJpbmc+fVxuICAgICAqL1xuICAgIFN0cmluZy5wcm90b3R5cGUuZ3JvdXBlZFJpZ2h0ID0gZnVuY3Rpb24oc2l6ZSkge1xuICAgICAgICBpZiAoIShzaXplID4gMSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHNpemUgdmFsdWUnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSBzaXplID0gcGFyc2VJbnQoc2l6ZSlcbiAgICAgICAgbGV0IHJlc3VsdHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMubGVuZ3RoOyBpID4gMDsgaSAtPSBzaXplKSB7XG4gICAgICAgICAgICByZXN1bHRzLnB1c2godGhpcy5zbGljZShNYXRoLm1heCgwLCBpIC0gc2l6ZSksIGkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0cy5yZXZlcnNlKCk7XG4gICAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgU3RyaW5nLnByb3RvdHlwZS5ncm91cGVkUmlnaHQ7XG4iLCIndXNlIHN0cmljdCc7XG5cbmlmICghU3RyaW5nLnByb3RvdHlwZS5yZXBlYXQpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY291bnRcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICovXG4gICAgU3RyaW5nLnByb3RvdHlwZS5yZXBlYXQgPSBmdW5jdGlvbihjb3VudCkge1xuICAgICAgICBpZiAoIShjb3VudCA+PSAwKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0ludmFsaWQgY291bnQgdmFsdWUnKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVzdWx0ID0gJyc7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgcmVzdWx0ICs9IHRoaXMudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IFN0cmluZy5wcm90b3R5cGUucmVwZWF0O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgJy4vcmVwZWF0J1xuXG5pZiAoIVN0cmluZy5wcm90b3R5cGUubGVmdFBhZCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGhcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsbENoYXJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIFN0cmluZy5wcm90b3R5cGUubGVmdFBhZCA9IGZ1bmN0aW9uKGxlbmd0aCwgZmlsbENoYXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBsZW5ndGggIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGxlbmd0aCArICcgaXMgbm90IGEgbnVtYmVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFmaWxsQ2hhcikgZmlsbENoYXIgPSAnICc7XG4gICAgICAgIGlmICh0aGlzLmxlbmd0aCA+PSBsZW5ndGgpIHJldHVybiB0aGlzLnRvU3RyaW5nKCk7XG4gICAgICAgIHJldHVybiBmaWxsQ2hhci5yZXBlYXQobGVuZ3RoIC0gdGhpcy5sZW5ndGgpICsgdGhpcy50b1N0cmluZygpO1xuICAgIH07XG59XG5pZiAoIVN0cmluZy5wcm90b3R5cGUubHBhZCkge1xuICAgIFN0cmluZy5wcm90b3R5cGUubHBhZCA9IFN0cmluZy5wcm90b3R5cGUubGVmdFBhZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgU3RyaW5nLnByb3RvdHlwZS5sZWZ0UGFkO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pZiAoIVN0cmluZy5wcm90b3R5cGUueG1sRXNjYXBlKSB7XG4gICAgU3RyaW5nLnByb3RvdHlwZS54bWxFc2NhcGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVwbGFjZSgvKDx8PnxcInwnfCYpL2csICgkMSkgPT4ge1xuICAgICAgICAgICAgc3dpdGNoICgkMSkge1xuICAgICAgICAgICAgY2FzZSAnPCc6IHJldHVybiAnJmx0Oyc7XG4gICAgICAgICAgICBjYXNlICc+JzogcmV0dXJuICcmZ3Q7JztcbiAgICAgICAgICAgIGNhc2UgJ1wiJzogcmV0dXJuICcmIzM0Oyc7XG4gICAgICAgICAgICBjYXNlIFwiJ1wiOiByZXR1cm4gJyYjMzk7JztcbiAgICAgICAgICAgIGNhc2UgJyYnOiByZXR1cm4gJyZhbXA7JztcbiAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiAkMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTdHJpbmcucHJvdG90eXBlLnhtbEVzY2FwZTtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0ICcuL3htbEVzY2FwZSdcblxuaWYgKCFTdHJpbmcucHJvdG90eXBlLm5sMmJyKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB4bWxFc2NhcGVcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIFN0cmluZy5wcm90b3R5cGUubmwyYnIgPSBmdW5jdGlvbih4bWxFc2NhcGUpIHtcbiAgICAgICAgcmV0dXJuICh4bWxFc2NhcGUgPyB0aGlzLnhtbEVzY2FwZSgpIDogdGhpcykucmVwbGFjZSgvKFxcclxcbnxcXG5cXHJ8XFxyfFxcbikvZywgJzxici8+Jyk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTdHJpbmcucHJvdG90eXBlLm5sMmJyO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pZiAoIVN0cmluZy5wcm90b3R5cGUucXVvdGUpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG92ZXJsYXBhYmxlXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuICAgIFN0cmluZy5wcm90b3R5cGUucXVvdGUgPSBmdW5jdGlvbihvdmVybGFwYWJsZSkge1xuICAgICAgICBpZiAodHlwZW9mIG92ZXJsYXBhYmxlICE9PSAnYm9vbGVhbicpIG92ZXJsYXBhYmxlID0gdHJ1ZTtcbiAgICAgICAgaWYgKCFvdmVybGFwYWJsZSAmJiB0aGlzLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGFyQXQoMCkgPT09ICdcIicgJiYgdGhpcy5jaGFyQXQodGhpcy5sZW5ndGggLSAxKSA9PT0gJ1wiJykgcmV0dXJuIHRoaXMudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNoYXJBdCgwKSA9PT0gXCInXCIgJiYgdGhpcy5jaGFyQXQodGhpcy5sZW5ndGggLSAxKSA9PT0gXCInXCIpIHJldHVybiB0aGlzLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICdcIicgKyB0aGlzICsgJ1wiJztcbiAgICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBTdHJpbmcucHJvdG90eXBlLnF1b3RlO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pZiAoIVN0cmluZy5wcm90b3R5cGUucmVnZXgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmxhZ3NcbiAgICAgKiBAcmV0dXJucyB7UmVnRXhwfVxuICAgICAqL1xuICAgIFN0cmluZy5wcm90b3R5cGUucmVnZXggPSBmdW5jdGlvbihmbGFncykgeyByZXR1cm4gbmV3IFJlZ0V4cCh0aGlzLCBmbGFncyk7IH07XG59XG5pZiAoIVN0cmluZy5wcm90b3R5cGUucikge1xuICAgIFN0cmluZy5wcm90b3R5cGUuciA9IFN0cmluZy5wcm90b3R5cGUucmVnZXg7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFN0cmluZy5wcm90b3R5cGUucmVnZXg7XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCAnLi9yZXBlYXQnXG5cbmlmICghU3RyaW5nLnByb3RvdHlwZS5yaWdodFBhZCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGhcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsbENoYXJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIFN0cmluZy5wcm90b3R5cGUucmlnaHRQYWQgPSBmdW5jdGlvbihsZW5ndGgsIGZpbGxDaGFyKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbGVuZ3RoICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihsZW5ndGggKyAnIGlzIG5vdCBhIG51bWJlcicpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZmlsbENoYXIpIGZpbGxDaGFyID0gJyAnO1xuICAgICAgICBpZiAodGhpcy5sZW5ndGggPj0gbGVuZ3RoKSByZXR1cm4gdGhpcy50b1N0cmluZygpO1xuICAgICAgICByZXR1cm4gdGhpcy50b1N0cmluZygpICsgZmlsbENoYXIucmVwZWF0KGxlbmd0aCAtIHRoaXMubGVuZ3RoKTtcbiAgICB9O1xufVxuaWYgKCFTdHJpbmcucHJvdG90eXBlLnJwYWQpIHtcbiAgICBTdHJpbmcucHJvdG90eXBlLnJwYWQgPSBTdHJpbmcucHJvdG90eXBlLnJpZ2h0UGFkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBTdHJpbmcucHJvdG90eXBlLnJpZ2h0UGFkO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pZiAoIVN0cmluZy5wcm90b3R5cGUuc3RhcnRzV2l0aCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcbiAgICAgKi9cbiAgICBTdHJpbmcucHJvdG90eXBlLnN0YXJ0c1dpdGggPSBmdW5jdGlvbihzdHIpIHsgcmV0dXJuIHRoaXMuaW5kZXhPZihzdHIpID09PSAwOyB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBTdHJpbmcucHJvdG90eXBlLnN0YXJ0c1dpdGg7XG4iLCIndXNlIHN0cmljdCc7XG5cbmlmICghU3RyaW5nLnByb3RvdHlwZS51bnF1b3RlKSB7XG4gICAgU3RyaW5nLnByb3RvdHlwZS51bnF1b3RlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmxlbmd0aCA+PSAyICYmXG4gICAgICAgICAgICAoKHRoaXMuY2hhckF0KDApID09PSAnXCInICYmIHRoaXMuY2hhckF0KHRoaXMubGVuZ3RoIC0gMSkgPT09ICdcIicpIHx8XG4gICAgICAgICAgICAodGhpcy5jaGFyQXQoMCkgPT09IFwiJ1wiICYmIHRoaXMuY2hhckF0KHRoaXMubGVuZ3RoIC0gMSkgPT09IFwiJ1wiKSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNsaWNlKDEsIC0xKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy50b1N0cmluZygpO1xuICAgIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IFN0cmluZy5wcm90b3R5cGUudW5xdW90ZTtcbiJdLCJzb3VyY2VSb290IjoiIn0=